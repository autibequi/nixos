---
description: NixOS Rules
globs:
alwaysApply: true
---

# SETUP NIXOS

## Instruções
- Sempre procure na arvore de arquivos por modulos relacionados ao problema
- Considere que o usuario esta numa distro NixOS, usando gnome.
- Considere que o usuario esta usando um laptop com processador AMD e placa de video NVIDIA.
- Sempre rode os comandos de  teste no final das modificações para validar

## COMANDOS DISPONÍVEIS
- `nh os test .` - Testa configuração sem aplicar
- `nh os boot .` - Aplica na próxima inicialização

## COMANDOS INDISPONIVEIS
- `nh os switch .` - Aplica configuração porem não funciona em sandbox do cursor, use sempre `nh os test .`

## RESTRIÇÕES DO CURSOR AI - SANDBOX
- NUNCA use sudo - todos os comandos sudo falharão no sandbox
- Use sempre containers como `poetry run` ou containers para evitar conflitos

## MÓDULOS PRINCIPAIS
- `/core/` - Configurações essenciais do sistema (hardware, kernel, serviços base)
- `/modules/` - Módulos opcionais (bluetooth, nvidia, plymouth, battery, etc.)
- `/desktop-envs/` - Ambientes de desktop (GNOME, KDE, Cosmic)
- `/assets/` - Recursos visuais (temas, ícones, wallpapers, cursors)
- `/scripts/` - Scripts de automação e utilitários do sistema
- `/tmp/` - Arquivos temporários e relatórios de sessão

## ARTEFATOS
- Sempre que valido crie um relatorio do problema solucionado na pasta tmp