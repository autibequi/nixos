# ===================================================================
#                          TOOLS KEYBINDS
# ===================================================================

# Toggle special workspace on bare SUPER press (release without combo)
# Com special ativo → esconde | Sem special → reabre o último usado
bindr = SUPER, Super_L, exec, $hyprutils toggle_or_hide_special_workspace

# System App Shortcuts
bind = ALT CTRL, delete,     exec, $hyprutils hypr_reload
bind = SUPER, l,                exec, $lock

# Power (Zenity confirmation)
bind = MOD3, Delete,   exec, bash -c 'zenity --question --text "Log out?" --title "Logout" && hyprctl dispatch exit'
bind = SUPER, Delete,  exec, bash -c 'zenity --question --text "Suspend system?" --title "Suspend" && systemctl suspend'
bind = SUPER SHIFT, Delete, exec, bash -c 'zenity --question --text "Shut down?" --title "Shutdown" && systemctl poweroff'

# Window Management
bind = SUPER, tab,       fullscreen, 1
bind = SUPER ALT, tab,   togglefloating

# Fullscreen
bind = SUPER, F11,       fullscreenstate, 0 3
bind = SUPER, SHIFT F11, fullscreen, 0

# Print Screen
bind = SUPER,       u,     exec, $hyprutils print_screen_to_clipboard
bind = SUPER ALT,   u,     exec, $hyprutils print_screen_with_notes
bind = SUPER SHIFT, u,     exec, $hyprutils tesseract_region

# Clipboard History (Rofi)
bind = MOD3, v, exec, $hyprutils clipboard_history

# Dark Mode
bind = SUPER, n, exec, $hyprutils toggle_theme

# ===================================================================
#                        MOUSE ZOOM
# ===================================================================
bind = MOD3, mouse:272, exec, hyprctl keyword cursor:zoom_factor $(hyprctl -j getoption cursor:zoom_factor | jq -r '.float * (2 | sqrt)')
bind = MOD3, mouse:273, exec, hyprctl keyword cursor:zoom_factor $(hyprctl -j getoption cursor:zoom_factor | jq -r '[.float / (2 | sqrt), 1] | max')
bind = MOD3, mouse:274, exec, hyprctl keyword cursor:zoom_factor 1

# ===================================================================
#                   MX MASTER 3 - SIDE BUTTON (logiops)
# ===================================================================
# Side button sends keycode 197 (NoSymbol in keymap); bind by code so it works
bind = , code:197, hyprexpo:expo, toggle

# ===================================================================
#                      MULTIMEDIA SETTINGS
# ===================================================================

# Audio controls
binde = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1.0 @DEFAULT_AUDIO_SINK@ 5%+
binde = , XF86AudioLowerVolume, exec, wpctl set-volume -l 1.0 @DEFAULT_AUDIO_SINK@ 5%-
bind  = , XF86AudioMute,        exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bind  = , XF86AudioMicMute,     exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bind  = , XF86AudioPlay,        exec, playerctl play-pause
bind  = , XF86AudioPause,       exec, playerctl play-pause
bind  = , XF86AudioNext,        exec, playerctl next
bind  = , XF86AudioPrev,        exec, playerctl previous

# Brightness controls
binde = , XF86MonBrightnessUp,   exec, brightnessctl set 2%+
binde = , XF86MonBrightnessDown, exec, brightnessctl set 2%-
