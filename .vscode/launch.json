{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "NixOS Rebuild Switch",
            "type": "f5anything",
            "request": "launch",
            "command": "nh os switch /etc/nixos"
        },
        {
            "name": "NixOS Clean All (keep 3, no GC)",
            "type": "f5anything",
            "request": "launch",
            "command": "nh clean all --keep 3 --nogc"
        },
        {
            "name": "Create Check Store File",
            "type": "f5anything",
            "request": "launch",
            "command": "nix-store --verify --check-contents > broken-paths.txt"
        },
        {
            "name": "Repair Broken Paths from File",
            "type": "f5anything",
            "request": "launch",
            "command": "while read -r path; do nix-store --repair-path \"$path\"; done < broken-paths.txt"
        }
    ]
}